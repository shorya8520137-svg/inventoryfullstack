MANUAL COMMANDS TO RUN ON SERVER
================================

SSH into your server first:
ssh -i "C:\Users\Admin\awsconection.pem" ubuntu@13.48.248.180

Then run these commands one by one:

1. Go to project directory:
cd ~/inventoryfullstack

2. Check if admin user exists:
mysql -u inventory_user -pStrongPass@123 inventory_db -e "SELECT id, name, email, role_id FROM users WHERE email='admin@company.com';"

3. If admin doesn't exist, create it:
mysql -u inventory_user -pStrongPass@123 inventory_db -e "INSERT INTO users (name, email, password, role_id, is_active) VALUES ('System Administrator', 'admin@company.com', '\$2b\$10\$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi', 1, 1);"

4. Verify admin permissions:
mysql -u inventory_user -pStrongPass@123 inventory_db -e "SELECT COUNT(*) FROM role_permissions WHERE role_id=1;"

5. If permissions are missing, add them:
mysql -u inventory_user -pStrongPass@123 inventory_db -e "DELETE FROM role_permissions WHERE role_id=1; INSERT INTO role_permissions (role_id, permission_id) SELECT 1, id FROM permissions WHERE is_active=1;"

6. Kill any existing server:
pkill -f "node server.js"

7. Start the server:
nohup node server.js > server.log 2>&1 &

8. Check if server started:
ps aux | grep "node server.js" | grep -v grep

9. Test login API:
curl -X POST https://13.48.248.180.nip.io/api/auth/login -H "Content-Type: application/json" -d '{"email":"admin@company.com","password":"password"}' -k

EXPECTED RESULT:
You should see a JSON response with "success":true and a permissions array with 28 items.

LOGIN CREDENTIALS:
Email: admin@company.com
Password: password

If this works, your frontend at https://13.48.248.180.nip.io should show the full dashboard with all permissions.